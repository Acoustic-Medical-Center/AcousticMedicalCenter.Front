<app-table [headers]="headers" [items]="doctors | sort: 'experience'">
  <ng-template #rowTemplate let-item>
    <tr class="hover:bg-gray-100">
      <td>{{ item.id }}</td>
      <td>Prof. Dr. {{ item.firstName }} {{ item.lastName }}</td>

      <td>{{ item.nameTR }}</td>
      <td>{{ item.experience }}</td>

      <td>
        <button
          class="btn btn-ghost btn-xs mr-2"
          (click)="showDetails(item.id)"
        >
          Detaylar
        </button>
        <button
          class="btn-ghost btn-xs hover:bg-gray-200"
          (click)="confirmDeleteDoctor(item.id)"
        >
          <span class="material-icons">delete</span>
        </button>
      </td>
    </tr>
  </ng-template>
</app-table>

<!-- Modal for Doctor Details -->
<dialog id="doctorDetailsModal" class="modal">
  <div class="modal-box">
    <form method="dialog">
      <button
        class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
        (click)="closeModal()"
      >
        âœ•
      </button>
    </form>
    <app-doctor-edit-form [doctorId]="selectedDoctorId"></app-doctor-edit-form>
  </div>
</dialog>

<!-- Modal for Doctor Delete Confirmation -->
<dialog id="deleteDoctorModal" class="modal">
  <div class="modal-box">
    <p class="text-lg">Doktor : {{ selectedDoctorName }}</p>
    <p class="text-lg">Bu doktoru silmek istiyor musunuz?</p>

    <div class="mt-4 flex justify-end">
      <button
        class="btn btn-sm btn-circle btn-danger mr-2"
        (click)="deleteDoctor(selectedDoctorId)"
      >
        Yes
      </button>
      <button class="btn btn-sm btn-circle btn-ghost" (click)="closeModal()">
        No
      </button>
    </div>
  </div>
</dialog>
